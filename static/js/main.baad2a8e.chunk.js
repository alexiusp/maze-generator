(this["webpackJsonpmaze-generator"]=this["webpackJsonpmaze-generator"]||[]).push([[0],{105:function(t,e,n){},106:function(t,e,n){},136:function(t,e,n){"use strict";n.r(e);var c,i=n(3),a=(n(101),n(0)),l=n(12),r=n.n(l),s=(n(105),n(14)),o=n(13),h=n(1),u=n(140),j=n(25),d=n(16),b=n(8),O=(n(106),n(36));function f(t,e){return function(t,e){return{x:t,y:e,walls:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[!1,!1,!1,!1]}}(t,e,[!0,!0,!0,!0])}function g(t,e){var n=Object(O.a)(t.walls);return n[e]=!1,Object(s.a)(Object(s.a)({},t),{},{walls:n})}function m(t){return g(t,c.Top)}function p(t){return g(t,c.Bottom)}!function(t){t[t.Top=0]="Top",t[t.Right=1]="Right",t[t.Bottom=2]="Bottom",t[t.Left=3]="Left"}(c||(c={}));var v=n(49),x=new function t(){var e=this;Object(v.a)(this,t),this.state={CellWidth:20,CellHeight:20,LineWidth:2},this.setters=[],this.setState=function(t){e.state=t,e.setters.forEach((function(t){return t(e.state)}))}};function w(){var t=Object(a.useState)(x.state),e=Object(o.a)(t,2),n=e[0],c=e[1];return x.setters.includes(c)||x.setters.push(c),Object(a.useEffect)((function(){return function(){x.setters=x.setters.filter((function(t){return t!==c}))}}),[]),[n,x.setState]}x.setState.bind(x);var C=function(t){var e=t.cell,n=w(),l=Object(o.a)(n,1)[0],r=l.CellHeight,s=l.CellWidth,h=l.LineWidth,u=Object(a.useState)(""),j=Object(o.a)(u,2),d=j[0],b=j[1];return Object(a.useEffect)((function(){var t=e.walls,n=e.x,i=e.y,a="M".concat(n*s," ").concat(i*r),l=t[c.Left],o="".concat(l?"l":"m","0 ").concat(r),h=t[c.Bottom],u="".concat(h?"l":"m").concat(s," 0"),j=t[c.Right],d="".concat(j?"l":"m","0 -").concat(r),O=t[c.Top],f="".concat(O?"l":"m","-").concat(s," 0"),g="".concat(a," ").concat(o," ").concat(u," ").concat(d," ").concat(f);b(g)}),[r,s,e]),Object(i.jsx)("path",{stroke:"#333",fill:"none",d:d,strokeWidth:h})},L=function(t){var e=t.cells,n=t.height,c=t.width,l=Object(a.useState)("0 0 400 400"),r=Object(o.a)(l,2),s=r[0],h=r[1],u=w(),j=Object(o.a)(u,1)[0],d=j.CellHeight,b=j.CellWidth;Object(a.useEffect)((function(){var t="0 0 ".concat(c*b," ").concat(n*d);h(t)}),[n,c,d,b]);var O=Object(i.jsx)(i.Fragment,{children:e.map((function(t,e){return Object(i.jsx)("g",{className:"row",children:t.map((function(t){return Object(i.jsx)(C,{cell:t},"".concat(t.x,"-").concat(t.y))}))},e)}))});return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("svg",{id:"labyrinth",className:"labyrinth-canvas",xmlns:"http://www.w3.org/2000/svg",viewBox:s,children:Object(i.jsx)("g",{className:"labyrinth-box",children:O})})})};function y(){var t=document.getElementById("labyrinth");if(t){var e=window.open("","","height=640, width=640");e&&(e.document.write("<html>"),e.document.write("<body>"),e.document.write(t.outerHTML),e.document.write("</body></html>"),e.document.close(),e.print())}}var F=function(){var t=Object(a.useState)(20),e=Object(o.a)(t,2),n=e[0],l=e[1],r=Object(a.useState)(20),O=Object(o.a)(r,2),g=O[0],v=O[1],x=w(),C=Object(o.a)(x,2),F=C[0],S=C[1],T=Object(a.useState)(!1),B=Object(o.a)(T,2),E=B[0],N=B[1],W=Object(a.useState)([]),k=Object(o.a)(W,2),H=k[0],M=k[1],R=function(){return N(!E)};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"App ".concat(h.a.DARK),children:[Object(i.jsxs)(u.f,{children:[Object(i.jsxs)(u.f.Group,{align:j.a.LEFT,children:[Object(i.jsx)(u.f.Heading,{children:"Maze builder"}),Object(i.jsx)(u.a,{onClick:function(){var t=function(t){for(var e=[],n=0;n<t.height;n++){for(var i=[],a=0;a<t.width;a++){var l=Object(s.a)({},t.cells[n][a]);i.push(l)}e.push(i)}for(var r=[],o=0;o<t.height;o++){for(var h=[],u=0;u<t.width;u++)h.push(!1);r.push(h)}for(var j=0,d=function(e,n){return e>=0&&e<t.width&&n>=0&&n<t.height},b=Math.floor(Math.random()*t.width),O=Math.floor(Math.random()*t.height),f=0,g=0;j!==t.width*t.height;){for(var m=!1,p=c.Top,v=c.Bottom;!m;)switch(p=Math.floor(4*Math.random())){case c.Top:m=d(f=b,g=O-1),v=c.Bottom;break;case c.Right:m=d(f=b+1,g=O),v=c.Left;break;case c.Bottom:m=d(f=b,g=O+1),v=c.Top;break;default:m=d(f=b-1,g=O),v=c.Right}r[g][f]||(r[g][f]=!0,j+=1,e[O][b].walls[p]=!1,e[g][f].walls[v]=!1),b=f,O=g}return e}(function(t,e,n){var c=n;if(!c){c=[];for(var i=0;i<t;i++){for(var a=[],l=0;l<e;l++){var r=f(l,i);0===l&&0===i&&(r=m(r)),l===e-1&&i===t-1&&(r=p(r)),a.push(r)}c.push(a)}}return{height:t,width:e,cells:c}}(g,n));M(t)},icon:"function",children:"Aldous-Broder algorythm"})]}),Object(i.jsxs)(u.f.Group,{align:j.a.RIGHT,children:[Object(i.jsx)(u.a,{icon:"print",minimal:!0,onClick:y}),Object(i.jsx)(u.f.Divider,{}),Object(i.jsx)(u.a,{icon:"cog",minimal:!0,onClick:R})]})]}),Object(i.jsx)("div",{className:"App-body",children:Object(i.jsx)(u.b,{className:"labyrinth-card",elevation:d.a.THREE,children:Object(i.jsx)(L,{cells:H,height:g,width:n})})})]}),Object(i.jsxs)(u.c,{isOpen:E,onClose:R,position:b.a.LEFT,size:u.c.SIZE_SMALL,title:"Settings",className:h.a.DARK,children:[Object(i.jsxs)(u.b,{className:"settings-card",children:[Object(i.jsx)(u.e,{children:"Labyrinth size"}),Object(i.jsxs)("div",{className:"size-settings",children:[Object(i.jsx)(u.d,{label:"Width",labelFor:"width-input",inline:!0,children:Object(i.jsx)(u.g,{id:"width-input",onValueChange:l,value:n})}),Object(i.jsx)(u.d,{label:"Height",labelFor:"height-input",inline:!0,children:Object(i.jsx)(u.g,{id:"height-input",onValueChange:v,value:g})})]})]}),Object(i.jsxs)(u.b,{className:"settings-card",children:[Object(i.jsx)(u.e,{children:"Drawing settings"}),Object(i.jsxs)("div",{className:"draw-settings",children:[Object(i.jsx)(u.d,{label:"Cell width",labelFor:"cell-width-input",inline:!0,children:Object(i.jsx)(u.g,{id:"cell-width-input",onValueChange:function(t){return S(Object(s.a)(Object(s.a)({},F),{},{CellWidth:t}))},value:F.CellWidth})}),Object(i.jsx)(u.d,{label:"Cell height",labelFor:"cell-height-input",inline:!0,children:Object(i.jsx)(u.g,{id:"cell-height-input",onValueChange:function(t){return S(Object(s.a)(Object(s.a)({},F),{},{CellHeight:t}))},value:F.CellHeight})}),Object(i.jsx)(u.d,{label:"Line width",labelFor:"line-width-input",inline:!0,children:Object(i.jsx)(u.g,{id:"line-width-input",onValueChange:function(t){return S(Object(s.a)(Object(s.a)({},F),{},{LineWidth:t}))},value:F.LineWidth})})]})]})]})]})},S=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,141)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,a=e.getLCP,l=e.getTTFB;n(t),c(t),i(t),a(t),l(t)}))};r.a.render(Object(i.jsx)(F,{}),document.getElementById("root")),S()}},[[136,1,2]]]);
//# sourceMappingURL=main.baad2a8e.chunk.js.map